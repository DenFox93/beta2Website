<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>How Tx.Origin and Msg.sender work (example)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>How Tx.Origin and Msg.sender work (example)</h1><br/><br />For this example to call the functions we will use Account User with address: 0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db<br /><br /><strong>HelloWorldTXOrigin</strong>(0x652c9ACcC53e765e1d96e2455E618dAaB79bA595)<br />   ◇ Deploy the HelloWorldTXOrigin contract first and copy its address value(example: 0x652c9ACcC53e765e1d96e2455E618dAaB79bA595)<br />      <a href=""><img src="images/1426-1.png" alt="images/1426-1.png" /></a><br /><div class="codebox"><pre>pragma solidity ^0.6.6;<br /><br />contract HelloWorldTXOrigin {<br />     <br />    function return_TX_Address() public returns(address){<br />        address myaddress = tx.origin;<br />        <span style="color:#ff9d00;font-weight:700">return</span> myaddress; <br />    }<br />    <br />    function return_MSG_Address() public returns(address){<br />        address myaddress = msg.sender;<br />        <span style="color:#ff9d00;font-weight:700">return</span> myaddress; <br />    }<br />}<br /></pre></div><br /><br /><strong>Call_Hello</strong>(0x417Bf7C9dc415FEEb693B6FE313d1186C692600F)<br />   ◇ Place the address value of <strong>HelloWorldTXOrigin</strong> inside targetInterface function<br /><div class="codebox"><pre>pragma solidity ^0.6.6;<br /><br /><br />interface targetInterface {<br />    function return_TX_Address() external returns(address); <br />    function return_MSG_Address() external returns(address);<br />}<br /><br />contract Call_Hello {<br />    targetInterface helloInterface = targetInterface(<span style="color:#ff0044;font-weight:400">0x652c9ACcC53e765e1d96e2455E618dAaB79bA595</span>);<br /><br />    function myTX ()  public returns (address){<br />        <span style="color:#ff9d00;font-weight:700">return</span> helloInterface.return_TX_Address();                      <span style="color:#0088ff;font-weight:400">//&lt;---</span><br />    }<br />    <br />    function myMSG ()  public returns (address){<br />        <span style="color:#ff9d00;font-weight:700">return</span> helloInterface.return_MSG_Address();                    <span style="color:#0088ff;font-weight:400">//&lt;---</span><br />    }<br />}</pre></div><br />    <a href=""><img src="images/1426-2.png" alt="images/1426-2.png" /></a><br />    MyMSG → output: 0x417Bf7C9dc415FEEb693B6FE313d1186C692600F → return the address of <strong>Call_Hello</strong>, even though the user have called the function<br />    MyTX → output:  0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db → address of the user that initially have called the function of <strong>Call_Hello</strong><br />    <br /><br /></div>
</body>
</html>
