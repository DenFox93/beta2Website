<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Locally(phisical access)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Locally(phisical access)</h1><br/><strong><h2>Locally</h2></strong><br /><span style="color:#1e90ff;">• </span><strong><span style="color:#1e90ff;">running system:</span></strong> a local <span style="text-decoration:underline;">administrator account is required</span> to download hashes from the memory.<br />    we have to load a password dumping program in the remote machine:<br />      ▪ pwdump<br />         - <a href="http://www.foofus.net/fizzgig/pwdump/">http://www.foofus.net/fizzgig/pwdump/</a><br />         - <a href="http://www.tarasco.org/security/pwdump_7/">http://www.tarasco.org/security/pwdump_7/</a><br />            <a href=""><img src="images/749-1.png" alt="images/749-1.png" /></a><br />      ▪ fgdump <a href="http://foofus.net/goons/fizzgig/fgdump/">http://foofus.net/goons/fizzgig/fgdump/</a><br />      ▪ ophcrack <a href="http://ophcrack.sourceforge.net/">http://ophcrack.sourceforge.net/</a><br />        <a href=""><img src="images/749-2.png" alt="images/749-2.png" /></a><br />      ▪ l0phtCrack http://www.l0phtcrack.com/<br /><span style="color:#ff0000;">• </span><strong><span style="color:#ff0000;">off-line system:</span></strong> passwords hashes are decrypted in the file SAM. The key to decrypt SAM is stored in SYSTEM file.<br />    If we can boot any operating system on the local machine, we can always dump files like SAM, SYSTEM on a usb and then crack them later<br />   <strong>◇ dump hash:</strong><br />      ▪ use <span style="text-decoration:underline;">Kali Linux Live CD</span> and boot it, we have to mount the partition where Windows is installed and then we have to move in it:<br />        <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">mkdir</span> <span style="color:#ff9d00;font-weight:700">/</span>mnt<span style="color:#ff9d00;font-weight:700">/</span>sda1<br /><span style="color:#ff9d00;font-weight:700">mount</span> -t ntfs <span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>sda1 <span style="color:#ff9d00;font-weight:700">/</span>mnt<span style="color:#ff9d00;font-weight:700">/</span>sda1<br /><span style="color:#ff9d00;font-weight:700">cd</span> <span style="color:#ff9d00;font-weight:700">/</span>mnt<span style="color:#ff9d00;font-weight:700">/</span>sda1<span style="color:#ff9d00;font-weight:700">/</span>WINDOWS<span style="color:#ff9d00;font-weight:700">/</span>system32<span style="color:#ff9d00;font-weight:700">/</span>config<span style="color:#ff9d00;font-weight:700">/</span></pre></div><br />        retrive hashes with bkhive and sampdump2 in conjunction<br />        <div class="codebox"><pre>bkhive system syskey.txt  <span style="color:#0088ff;font-weight:400">#in Windows 7 use: bkhive SYSTEM syskey.txt</span><br />samdump2 SAM syskey.txt &gt; ourhashdump.txt<br /><span style="color:#ff9d00;font-weight:700">cat</span> ourhashdump.txt</pre></div><br />      ▪ use <span style="text-decoration:underline;">Ophcrack Live CD</span> and boot it, this will immediately retrieve the password hashes and prompt them to you.<br />   <strong>◇ overwrite hash:</strong><br />    We have to change the SAM file content with a tool like <span style="text-decoration:underline;">chntpw</span> installed on a Live CD. To do that see <a href="https://www.howtogeek.com/howto/14369/change-or-reset-windows-password-from-a-ubuntu-live-cd/">HERE</a><br />   <strong>◇ bypass Windows login:</strong><br />    Kon-Boot is a software which allows to change contents of a Linux and Windows kernel while booting<br />    It is an application which bypass the authentication without overwriting the old password<br />    <a href="http://www.piotrbania.com/all/kon-boot/">http://www.piotrbania.com/all/kon-boot/</a><br />   <br /></div>
</body>
</html>
