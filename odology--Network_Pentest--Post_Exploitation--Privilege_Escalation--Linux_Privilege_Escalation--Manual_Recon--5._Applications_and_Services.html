<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5. Applications and Services</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>5. Applications and Services</h1><br/><br /><strong>Processes</strong><br /><div class="codebox"><pre>user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ps</span> aux                                                                      <span style="color:#0088ff;font-weight:400">#all processes running</span><br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ps</span> aux <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">grep</span> root                                                          <span style="color:#0088ff;font-weight:400">#processes running as root</span><br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ps</span> aux <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">awk</span> <span style="color:#3ad900;font-weight:400">&#39;{print $11}&#39;</span> <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">xargs</span> -r <span style="color:#ff9d00;font-weight:700">ls</span> -la 2&gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">awk</span> <span style="color:#3ad900;font-weight:400">&#39;!x[$0]++&#39;</span>   <span style="color:#0088ff;font-weight:400">#print process binaries/paths and permissions</span><br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ps</span> au</pre></div><br /><br /><strong>Installed applications</strong><br /><div class="codebox"><pre>user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ dpkg -l                                <span style="color:#0088ff;font-weight:400">#debian and derivatives</span><br />[user@fedora]$ rpm -qa                                <span style="color:#0088ff;font-weight:400">#fedora-based distros</span></pre></div><br /><br /><strong>Common software versions</strong><br /><div class="codebox"><pre>user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> -V<br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ httpd -v<br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ apache2 -v<br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ mysql -V<br />user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ sendmail -d0.1</pre></div><br /><br /><strong>Configurations files</strong><br />   ◇ manual: applications<br />      Configuration files may contain sensitive information about applications and services which can also be very useful information for privilege escalation purposes<br />       <div class="codebox"><pre>user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ls</span> -ls <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span> <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">grep</span> .conf</pre></div><br />   ◇ manual: web applications<br />       <div class="codebox"><pre>user@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">ls</span> -ls <span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>www<span style="color:#ff9d00;font-weight:700">/</span>html<span style="color:#ff9d00;font-weight:700">/</span></pre></div><br />        If we encounter web applications on a compromised host, be sure to check their configuration files for information that can be used for privilege escalation.<br />        These configuration .php files can contain valuable information such as the MySQL username and password<br />            wordpress → /home/[username]/public_html/wp-config.php ; /var/www/html/wordpress/[subfolder]/<br />            joomla →  /home/[username]/public_html/configuration.php ; /var/www/html/joomla/[subfolder]/<br />  </div>
</body>
</html>
