<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Disable RC4 encryption</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Disable RC4 encryption</h1><br/>From Windows Vista is possible disable RC4 encryption at group policy level.<br /><br /><strong>If we want disable RC4 encryption only locally in “Local Security Policy”</strong><br />Control Panel → Administrative Tools → Local Security Policy → Security Options → &quot;Network security: Configure encryption types allowed for Kerberos&quot;<br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">PS</span>&gt; reg add HKEY_LOCAL_MACHINE<span style="color:#ff9d00;font-weight:700">\</span>SOFTWARE<span style="color:#ff9d00;font-weight:700">\</span>Microsoft<span style="color:#ff9d00;font-weight:700">\</span>Windows<span style="color:#ff9d00;font-weight:700">\</span>CurrentVersion<span style="color:#ff9d00;font-weight:700">\</span>Policies<span style="color:#ff9d00;font-weight:700">\</span>System<span style="color:#ff9d00;font-weight:700">\</span>Kerberos<span style="color:#ff9d00;font-weight:700">\</span>Parameters <span style="color:#ff9d00;font-weight:700">/</span>v SupportedEncryptionTypes <span style="color:#ff9d00;font-weight:700">/</span>t REG_DWORD <span style="color:#ff9d00;font-weight:700">/</span>d <span style="color:#333333;font-weight:400">0x7ffffff8</span> <span style="color:#ff9d00;font-weight:700">/</span>f </pre></div><br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">PS</span>&gt; reg query HKEY_LOCAL_MACHINE<span style="color:#ff9d00;font-weight:700">\</span>SOFTWARE<span style="color:#ff9d00;font-weight:700">\</span>Microsoft<span style="color:#ff9d00;font-weight:700">\</span>Windows<span style="color:#ff9d00;font-weight:700">\</span>CurrentVersion<span style="color:#ff9d00;font-weight:700">\</span>Policies<span style="color:#ff9d00;font-weight:700">\</span>System<span style="color:#ff9d00;font-weight:700">\</span>Kerberos<span style="color:#ff9d00;font-weight:700">\</span>Parameters <span style="color:#ff9d00;font-weight:700">/</span>v SupportedEncryptionTypes</pre></div><br />    <a href=""><img src="images/1185-1.png" alt="images/1185-1.png" /></a><br /><br /><strong>If we want disable RC4 encryption to all the Computers of the Domain:</strong><br /><span style="text-decoration:underline;">From the Domain Controller</span><br />Control Panel\System and Security\Administrative Tools → Default Domain Policy (right click edit)<br /><a href=""><img src="images/1185-2.png" alt="images/1185-2.png" /></a><br /><br />Computer Configuration → Policies → Windows Settings → Security Settings →  Local Policies →  Security Options →  &quot;Network security: Configure encryption types allowed for Kerberos&quot;<br /><a href=""><img src="images/1185-3.png" alt="images/1185-3.png" /></a><br /><br />Define these Policy settings: <br />• AES_128_HMAC_SHA1<br />• AES256_HMAC_SHA1<br />• Future encryption types<br /><a href=""><img src="images/1185-4.png" alt="images/1185-4.png" /></a><br /><br />Bibliography:<br />• <a href="https://social.technet.microsoft.com/Forums/windowsserver/en-US/01fe4703-08a5-4012-8ced-c9133b7115e9/configuring-group-policy-using-powershell-to-disable-rc4-kerberos-etype?forum=winserver8gen">Configuring Group policy using powershell to disable RC4 Kerberos etype (microsoft.com)</a><br />• <a href="https://www.stigviewer.com/stig/windows_10/2017-12-01/finding/V-63795">https://www.stigviewer.com/stig/windows_10/2017-12-01/finding/V-63795</a></div>
</body>
</html>
