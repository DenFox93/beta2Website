<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Proxying Burp through a Pivot host</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Proxying Burp through a Pivot host</h1><br/><br /><br />Once we can connec via ssh through a pivot host we can use this pivot host to reach another host with Burp<br /><br /><div class="codebox"><pre>ssh -N -D 8089 &lt;user&gt;@&lt;PivotIP&gt;</pre></div><br />	-C → will on compression for the SSH connection but it will slow down the connections!<br />	-D → setups up dynamic port forwarding. 8089 will be the local port you’ll use for Burp’s Socks settings.<br />	<a href=""><img src="images/2309-1.png" alt="images/2309-1.png" /></a><br /><br />Now setup Burp SOCKS proxy with <br />   ◇ SOCKS proxy host: 127.0.0.1<br />   ◇ SOCKS proxy port: 8089<br />	<a href=""><img src="images/2309-2.png" alt="images/2309-2.png" /></a><br /><br /><br />If we want that the traffic from Firefox go:<br />	Firefox → Burp → Pivot Host → Target<br />Setup:<br />1. Firefox<br />	<a href=""><img src="images/2309-3.png" alt="images/2309-3.png" /></a><br />2. In Burp we need to do two things:<br />   1) To Proxy from Firefox to Burp<br />	<a href=""><img src="images/2309-4.png" alt="images/2309-4.png" /></a><br />	2) Proxy from Burp to the localhost port that we are using for SSH dynamic forwarding<br />	<a href=""><img src="images/2309-5.png" alt="images/2309-5.png" /></a><br /><br />3. Setup SSH dynamic forwarding<br />	<a href=""><img src="images/2309-6.png" alt="images/2309-6.png" /></a><br />	<br /></div>
</body>
</html>
