<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>9. Keccak256 and Typecasting</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>9. Keccak256 and Typecasting</h1><br/><br /><strong>keccak256: function to return a (semi) random uint</strong><br />Ethereum has the hash function <code>keccak256</code> built in, which is a version of SHA3. A hash function basically maps an input into a 256-bit hexadecimal number. A slight change in the input will cause a large change in the hash.<br />It&#39;s useful for many purposes in Ethereum, but for right now we&#39;re just going to use it for pseudo-random number generation.<br /><span style="color:#ff0000;">IMPORTANT</span>: keccak256 expects a single parameter of type bytes. This means that we have to &quot;pack&quot; any parameters before calling keccak256<br /><br /><div class="codebox"><pre><span style="color:#0088ff;font-weight:400">//6e91ec6b618bb462a4a6ee5aa2cb0e9cf30f7a052bb467b0ba58b8748c00d2e5</span><br />keccak256(abi.encodePacked(<span style="color:#3ad900;font-weight:400">&quot;aaaab&quot;</span>));<br /><span style="color:#0088ff;font-weight:400">//b1f078126895a1424524de5321b339ab00408010b7cf0e6ed451514981e58aa9</span><br />keccak256(abi.encodePacked(<span style="color:#3ad900;font-weight:400">&quot;aaaac&quot;</span>));</pre></div><br /><br /><br /><strong><h3>Typecasting</h3></strong><br />Sometimes you need to convert between data types. Take the following example:<br /><div class="codebox"><pre>uint8 a = <span style="color:#ff0044;font-weight:400">5</span>;<br />uint b = <span style="color:#ff0044;font-weight:400">6</span>;<br /><span style="color:#0088ff;font-weight:400">// throws an error because a * b returns a uint, not uint8:</span><br />uint8 c = a * b;<br /><span style="color:#0088ff;font-weight:400">// we have to typecast b as a uint8 to make it work:</span><br />uint8 c = a * uint8(b);</pre></div><em><code><br /></code></em><em>In the above, </em><em><code>a * b</code></em><em> returns a </em><em><code>uint</code></em><em>, but we were trying to store it as a </em><em><code>uint8</code></em><em>, which could cause potential problems. By casting it as a </em><em><code>uint8</code></em><em>, it works and the compiler won&#39;t throw an error.<br /></em></div>
</body>
</html>
