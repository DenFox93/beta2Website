<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Role of the machine in the network</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Role of the machine in the network</h1><br/><br />• <span style="text-decoration:underline;">workstation</span><br />   ◇ Which department is it from?<br />      ▪ R&amp;D?<br />      ▪ Marketing?<br />      ▪ …<br />• <span style="text-decoration:underline;">server</span><br />   ◇ which services are running on it?<br />   ◇ what type of server?<br />      ▪ A Mail server?<br />      ▪ A Web server?<br />      ▪ A RADIUS?<br />      ▪ …<br /><br /><br /><strong><span style="color:#00ff00;">Running services</span></strong><strong> ← the more important</strong><br />To know the role of a machine in a network we can check the services running on it to have a more clear idea<br />• Windows<br />    <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#333333;font-weight:400">\U</span>sers<span style="color:#333333;font-weight:400">\d</span>anie&gt; net start</pre></div><br />    A machine with a Server role will have for example the following services running: DNS Server, Web Server IIS<br />    <a href=""><img src="images/836-1.png" alt="images/836-1.png" /></a><br />• Linux<br />    <div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span>home<span style="color:#ff9d00;font-weight:700">/</span>kali# service --status-all</pre></div><br /><br /><strong><span style="color:#00ff00;">Services(running &amp; stopped)</span></strong><br />• Meterpreter<br />    <div class="codebox"><pre>meterpreter &gt; post<span style="color:#ff9d00;font-weight:700">/</span>windows<span style="color:#ff9d00;font-weight:700">/</span>gather<span style="color:#ff9d00;font-weight:700">/</span>enum_services.rb                                   <span style="color:#0088ff;font-weight:400">#Windows</span></pre></div><br />• Windows<br />    <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#333333;font-weight:400">\U</span>sers<span style="color:#333333;font-weight:400">\d</span>anie&gt; wmic service get name,pathname,startname,state                        <span style="color:#0088ff;font-weight:400">#list name services on cmd</span><br />C<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#333333;font-weight:400">\U</span>sers<span style="color:#333333;font-weight:400">\d</span>anie&gt; %windir%<span style="color:#333333;font-weight:400">\s</span>ystem32<span style="color:#333333;font-weight:400">\s</span>ervices.msc                                        <span style="color:#0088ff;font-weight:400">#start GUI interface</span></pre></div><br />    <a href=""><img src="images/836-2.png" alt="images/836-2.png" /></a><br />    <a href=""><img src="images/836-3.png" alt="images/836-3.png" /></a><br />• Linux<br />    <div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span>home<span style="color:#ff9d00;font-weight:700">/</span>kali# service --status-all</pre></div><br />    <a href=""><img src="images/836-4.png" alt="images/836-4.png" /></a><br />    How we can also see from /usr/sbin/service; [+] means that the service is running, [-] means the service is not running<br /><br /><strong><span style="color:#1e90ff;">Running processes</span></strong><br />• Meterpreter<br />    <div class="codebox"><pre>meterpreter&gt; <span style="color:#ff9d00;font-weight:700">ps</span></pre></div><br />• Windows<br />    <div class="codebox"><pre>wC<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#333333;font-weight:400">\U</span>sers<span style="color:#333333;font-weight:400">\d</span>anie&gt; mic process get ProcessId,Description,ParentProcessId,ReadOperationCount,WriteOperationCount</pre></div><br /></div>
</body>
</html>
