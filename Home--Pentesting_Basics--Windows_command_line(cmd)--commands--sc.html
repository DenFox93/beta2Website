<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>sc</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>sc</h1><br/><strong>Service Controller (sc)</strong><br />Service Controller (sc) command lets accounts with administrator privileges interact with services:<br />• <strong>querying their status</strong><br />   ◇ <span style="text-decoration:underline;">services running on the local system</span><br />    <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> query<br />C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> <span style="color:#ff9d00;font-weight:700">\\</span><span style="color:#333333;font-weight:400">192.168</span>.<span style="color:#333333;font-weight:400">1.118</span> query            <span style="color:#0088ff;font-weight:400">#against a remote system</span></pre></div><br />   ◇ <span style="text-decoration:underline;">all installed services(running and not running)</span><br />    <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> query state<span style="color:#ff9d00;font-weight:700">=</span>all</pre></div><br />   ◇ <span style="text-decoration:underline;">details about a particular service&#39;s status</span><br />    <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> qc [service_name]</pre></div><br />• <strong>start them</strong><br />   <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> <span style="color:#ff9d00;font-weight:700">start</span> [service_name]<br />C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> config [service_name] <span style="color:#ff9d00;font-weight:700">start=</span>demand        <span style="color:#0088ff;font-weight:400">#if we cannot start the service</span></pre></div><br />   If we cannot start the service, is possible that it is disabled, we can see it by checking the output of “sc start [service_name]”.<br />    If the in the output &quot;START_TYPE:4 DISABLED&quot; we have to configure it to &quot;start=demand&quot;<br />• <strong>stop them</strong><br />   <div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; <span style="color:#ff9d00;font-weight:700">sc</span> stop [service_name]</pre></div><br /><br /><br /><strong>Remotely</strong><br />sc commands <span style="text-decoration:underline;">can be done remotely</span> on a SMB session by prepending \\[IPaddress] after sc<br />To do that an admin-level SMB session is required(to do it <a href="Home--Pentesting_Basics--Windows_command_line(cmd)--commands--net--SMB_share.html">see net→ SMB share</a>)<br /><div class="codebox"><pre>C<span style="color:#ff9d00;font-weight:700">:\</span>&gt; net use <span style="color:#ff9d00;font-weight:700">\\</span>[targetIP]</pre></div></div>
</body>
</html>
