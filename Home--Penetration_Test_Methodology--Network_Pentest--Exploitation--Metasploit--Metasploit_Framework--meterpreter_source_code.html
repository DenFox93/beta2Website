<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>meterpreter source code</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>meterpreter source code</h1><br/><br />The meterpreter source code is contained in the folder:<br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>share<span style="color:#ff9d00;font-weight:700">/</span>metasploit-framework<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>rex<span style="color:#ff9d00;font-weight:700">/</span>post<span style="color:#ff9d00;font-weight:700">/</span>meterpreter<span style="color:#ff9d00;font-weight:700">/</span></pre></div><br /><br />The first script file that is loaded when we run meterpreter is <strong>meterpreter library</strong><br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>share<span style="color:#ff9d00;font-weight:700">/</span>metasploit-framework<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>rex<span style="color:#ff9d00;font-weight:700">/</span>post<span style="color:#ff9d00;font-weight:700">/</span>meterpreter.rb</pre></div><br />	<a href=""><img src="images/2043-1.png" alt="images/2043-1.png" /></a><br /><br /><strong>Client library</strong> contained in:<br />   <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>share<span style="color:#ff9d00;font-weight:700">/</span>metasploit-framework<span style="color:#ff9d00;font-weight:700">/</span>lib<span style="color:#ff9d00;font-weight:700">/</span>rex<span style="color:#ff9d00;font-weight:700">/</span>post<span style="color:#ff9d00;font-weight:700">/</span>meterpreter<span style="color:#ff9d00;font-weight:700">/</span>client.rb</pre></div><br />	This class represents a logical meterpreter client class. <br />	This class provides an interface that is compatible with the Rex post-exploitation interface in terms of the feature set that it attempts to expose.  <br />	<span style="text-decoration:underline;">This class is meant to drive a single meterpreter client session:</span><br />   1) Initializes the client context with the supplied socket through which communication with the server will be performed<br />   2) Cleans up the meterpreter instance, terminating the dispatcher thread<br />   3) Initializes the meterpreter client instance<br />   4) ....<br />	<a href=""><img src="images/2043-2.png" alt="images/2043-2.png" /></a><br /><br /><strong>Note:</strong> in the chapter that will follow we have executed the commands in the pry shell, but when we are using these commands in Metasploit modules <span style="text-decoration:underline;">we need to specify client</span><br /><span style="color:#a52a2a;">example</span><br />client.sys.config.getprivs<br />client.fs.dir.pwd<br />client.net.config.get_interfaces<br /><br /><br /></div>
</body>
</html>
