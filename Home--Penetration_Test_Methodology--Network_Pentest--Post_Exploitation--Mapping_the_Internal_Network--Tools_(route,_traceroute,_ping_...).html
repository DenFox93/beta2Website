<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Tools (route, traceroute, ping ...)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Tools (route, traceroute, ping ...)</h1><br/><br /><strong>IP</strong><br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">ifconfig</span> -a           <span style="color:#0088ff;font-weight:400">#Linux</span><br />ip a                  <span style="color:#0088ff;font-weight:400">#Linux</span><br />ipconfig <span style="color:#ff9d00;font-weight:700">/</span>all         <span style="color:#0088ff;font-weight:400">#Windows</span><br />ipconfig <span style="color:#ff9d00;font-weight:700">/</span>displaydns  <span style="color:#0088ff;font-weight:400">#Windows</span></pre></div><br />   ◇ DNS server<br />   when a host is set to use DNS server, generally all the applications can query it<br />   <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>resolv.conf        <span style="color:#0088ff;font-weight:400">#Linux</span></pre></div><br /><br /><strong>Route table</strong><br />determine which Destination IP addresses appear public. Determine than why the host need a coonnction with a public IP<br /><div class="codebox"><pre>route -vn          <span style="color:#0088ff;font-weight:400">#Linux</span><br />netstat -rn        <span style="color:#0088ff;font-weight:400">#Linux</span><br />route print        <span style="color:#0088ff;font-weight:400">#Windows</span></pre></div><br />    <a href=""><img src="images/960-1.png" alt="images/960-1.png" /></a><br /><br /><strong>How many hops are between our compromised machine, and other network segments</strong><br /><div class="codebox"><pre>arracker@linux<span style="color:#ff9d00;font-weight:700">:/</span># traceroute –n &lt;ip address&gt;</pre></div><br />    <a href=""><img src="images/960-2.png" alt="images/960-2.png" /></a><br />    in this case only one (we are in the same network)<br />     <br /><strong>Ping Sweep</strong><br /><a href="--Penetration_Test_Methodology--Network_Pentest--Scanning_and_Enumeration--Network_Sweeping(Host_discovery)_[-P]--nmap---PE--PP_ICMP_ping.html">In the chapter of nmap is explained well</a>. Substantially is like if we make a <span style="text-decoration:underline;">ping</span> to all the hosts of the network<br /><div class="codebox"><pre>msf&gt; use post<span style="color:#ff9d00;font-weight:700">/</span>multi<span style="color:#ff9d00;font-weight:700">/</span>gather<span style="color:#ff9d00;font-weight:700">/</span>ping_sweep                                                                          <span style="color:#0088ff;font-weight:400">#we need a meterpreter session</span><br />C<span style="color:#ff9d00;font-weight:700">:</span><span style="color:#333333;font-weight:400">\&gt;</span> <span style="color:#ff9d00;font-weight:700">for</span> /<span style="color:#7f0044;font-weight:400">l</span> %i <span style="color:#ff9d00;font-weight:700">in</span> <span style="color:#ff9d00;font-weight:700">(</span>1,1,254<span style="color:#ff9d00;font-weight:700">)</span> <span style="color:#ff9d00;font-weight:700">do</span> @<span style="color:#ff9d00;font-weight:700">ping</span> 192.168.43.%i -w 10 -n 1 <span style="color:#ff9d00;font-weight:700">|</span> <span style="color:#ff9d00;font-weight:700">find</span> <span style="color:#3ad900;font-weight:400">&quot;Reply&quot;</span>                                   <span style="color:#0088ff;font-weight:400">#change 192.168.1.</span><br />                                                                                                               <span style="color:#0088ff;font-weight:400">#with your subnet</span><br />root@debian<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">for</span> <span style="color:#7f0044;font-weight:400">i</span> <span style="color:#ff9d00;font-weight:700">in</span> <span style="color:#ff9d00;font-weight:700">{</span>1..254<span style="color:#ff9d00;font-weight:700">}</span> <span style="color:#ff9d00;font-weight:700">;do</span> <span style="color:#ff9d00;font-weight:700">(ping</span> 192.168.1.<span style="color:#7f0044;font-weight:400">$i</span> -c 1 -w 5  &gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null <span style="color:#ff9d00;font-weight:700">&amp;&amp;</span> <span style="color:#ff9d00;font-weight:700">echo</span> <span style="color:#3ad900;font-weight:400">&quot;192.168.1.$i&quot;</span> <span style="color:#ff9d00;font-weight:700">&amp;)</span> <span style="color:#ff9d00;font-weight:700">;done</span>  <span style="color:#0088ff;font-weight:400">#change 192.168.1.</span><br />                                                                                                               <span style="color:#0088ff;font-weight:400">#with your subnet</span><br /></pre></div><br /><br /><br /><strong>Port Scanning</strong><br />   ◇ Linux<br />   <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">for</span> <span style="color:#7f0044;font-weight:400">i</span> <span style="color:#ff9d00;font-weight:700">in</span> <span style="color:#ff9d00;font-weight:700">{</span>1..65535<span style="color:#ff9d00;font-weight:700">};</span> <span style="color:#ff9d00;font-weight:700">do</span> <span style="color:#ff9d00;font-weight:700">(echo</span> &gt; <span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>tcp<span style="color:#ff9d00;font-weight:700">/</span>192.168.1.1<span style="color:#ff9d00;font-weight:700">/</span><span style="color:#7f0044;font-weight:400">$i</span><span style="color:#ff9d00;font-weight:700">)</span> &gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null <span style="color:#ff9d00;font-weight:700">2&gt;&amp;</span>1 <span style="color:#ff9d00;font-weight:700">&amp;&amp;</span> <span style="color:#ff9d00;font-weight:700">echo</span> <span style="color:#7f0044;font-weight:400">$i</span> is open<span style="color:#ff9d00;font-weight:700">;</span> <span style="color:#ff9d00;font-weight:700">done</span></pre></div><br />   This can take very long time, better specify specific ports<br />   <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">for</span> <span style="color:#7f0044;font-weight:400">i</span> <span style="color:#ff9d00;font-weight:700">in</span> <span style="color:#ff9d00;font-weight:700">{</span>21,22,53,80,135,137,445<span style="color:#ff9d00;font-weight:700">};</span> <span style="color:#ff9d00;font-weight:700">do</span> <span style="color:#ff9d00;font-weight:700">(echo</span> &gt; <span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>tcp<span style="color:#ff9d00;font-weight:700">/</span>192.168.1.1<span style="color:#ff9d00;font-weight:700">/</span><span style="color:#7f0044;font-weight:400">$i</span><span style="color:#ff9d00;font-weight:700">)</span> &gt;<span style="color:#ff9d00;font-weight:700">/</span>dev<span style="color:#ff9d00;font-weight:700">/</span>null <span style="color:#ff9d00;font-weight:700">2&gt;&amp;</span>1 <span style="color:#ff9d00;font-weight:700">&amp;&amp;</span> <span style="color:#ff9d00;font-weight:700">echo</span> <span style="color:#7f0044;font-weight:400">$i</span> is open<span style="color:#ff9d00;font-weight:700">;</span> <span style="color:#ff9d00;font-weight:700">done</span></pre></div><br />   <br />   <br />   <br /> <br /></div>
</body>
</html>
