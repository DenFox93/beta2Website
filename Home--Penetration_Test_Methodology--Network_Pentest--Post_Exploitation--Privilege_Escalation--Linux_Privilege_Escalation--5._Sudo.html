<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>5. Sudo</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>5. Sudo</h1><br/><strong>sudo</strong> is a program which lets users run other programs with the security privileges of other users. By default, that other user will be root.<br />A user generally needs to enter their password to use sudo, they must be permitted access via rule(s) in the /etc/sudoers file.<br /><br /><span style="color:#ff0000;">To check sudoers file we need to be already root</span><br />Rules can be used to limit users to certain programs, and forgo the password entry requirement.<br /><div class="codebox"><pre>root@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>sudoers    <span style="color:#0088ff;font-weight:400">#only root</span></pre></div><br />    <a href=""><img src="images/1295-1.png" alt="images/1295-1.png" /></a><br />    <br /><strong>Useful Commands</strong><br />• List programs the actual user is allowed (and disallowed) to run as sudo:<br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> -l</pre></div><br />    <a href=""><img src="images/1295-2.png" alt="images/1295-2.png" /></a><br /><br /><br />• Become root with root password, only if we know the password:<br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">su</span>   <span style="color:#0088ff;font-weight:400">#su == switch user</span></pre></div><br />• Run a program using sudo:<br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> &lt;program&gt;</pre></div><br />   ◇ Become root with actual user password, this user must be in the sudoers file (or a group that is in the sudoers file).<br />       <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> <span style="color:#ff9d00;font-weight:700">su</span><br />    <span style="color:#0088ff;font-weight:400">#below, alternative methods if su program is not allowed</span><br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> -s<br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> <span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/bash</span><br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> <span style="color:#ff9d00;font-weight:700">passwd</span></pre></div><br />• Run a program as a specific user:<br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> –u &lt;username&gt; &lt;program&gt;</pre></div><br />	<span style="color:#a52a2a;">example</span><br />	<a href=""><img src="images/1295-3.png" alt="images/1295-3.png" /></a><br />	<a href=""><img src="images/1295-4.png" alt="images/1295-4.png" /></a><br />	<br />Bibliography:<br />• Linux Privilege Escalation for OSCP &amp; Beyond!</div>
</body>
</html>
