<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Asynchronous JavaScript and XML (AJAX)</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Asynchronous JavaScript and XML (AJAX)</h1><br/><br />AJAX is the technology used to enable asynchronous communication between your browser and the web server<br /><br />• <span style="text-decoration:underline;">In old-style websites</span>, when you click a link, the client has to send a request all the way up the server; the server processes the request and then replies. When the browser gets the entire reply, it redraws the entire screen. <br />• <span style="text-decoration:underline;">AJAX</span> is the technology that enable Web 2.0. <br />    JavaScript creates XMLHttpRequest objects. Those objects can make requests and receive responses asynchronously, updating the display as responses are received. <br />    In other words AJAX uses JavaScript and XML to provide dynamic application functions, allowing the application to refresh portions of the  page.<br />    <span style="color:#a5452a;">example: Google Maps </span><br />    It shows satellite images. It also includes road information with traffic data overlaid. AJAX allows for it to use interactive features while updating only the changed sections<br /><br /><strong>JavaScript XMLHttpRequest object</strong><br />The JavaScript XMLHttpRequest object is the heart of AJAX. It allows a JavaScript to make requests for data in the background. Providing more interactivity to the web page<br />How create XMLHttpRequest object: <br />    <div class="codebox"><pre>xmlhttp = new XMLHttpRequest()</pre></div><br /><span style="text-decoration:underline;">Main methods and properties:</span><br />   ◇ Set the request method, by specifing the properties of the request. It does not actually initiate a connection.<br />       <div class="codebox"><pre>xmlhttp.open(&quot;GET&quot;, &quot;http://www.example.com/index.php&quot;)</pre></div><br />   ◇ Send the request<br />       <div class="codebox"><pre>xmlhttp.send()</pre></div><br />   ◇ Set which function should be called when the ready state changes. A response being received is an example of a ready state change<br />       <div class="codebox"><pre>xmlhttp.onreadystatechange = [CUSTOM-FUNCTION]</pre></div><br />   ◇ Property that enables the scripting code to determine what state a response from the server is in<br />       <div class="codebox"><pre>xmlhttp.readyState</pre></div><br />        The readyState has five possible values:<br />      ▪ 0 →  The request is uninitialized<br />      ▪ 1 →  The request has been set up<br />      ▪ 2 →  The request has been sent<br />      ▪ 3 →  Waiting for a response<br />      ▪ 4 →  The response is complete<br />   ◇ Property that contains the contents of any response from the server<br />       <div class="codebox"><pre>xmlhttp.responseText</pre></div><br /><br /><span style="color:#a5452a;">Example XMLHttpRequest :</span><br /><div class="codebox"><pre><span style="color:#7f0044;font-weight:400">&lt;html&gt;&lt;body&gt;</span><br /><span style="color:#7f0044;font-weight:400">&lt;button</span> <span style="color:#333333;font-weight:400">type=</span><span style="color:#3ad900;font-weight:400">&quot;button&quot;</span> <span style="color:#333333;font-weight:400">onclick=</span><span style="color:#3ad900;font-weight:400">&quot;theAnswer()&quot;</span><span style="color:#7f0044;font-weight:400">&gt;</span>The Answer<span style="color:#7f0044;font-weight:400">&lt;/button&gt;</span><br /><span style="color:#7f0044;font-weight:400">&lt;p</span> <span style="color:#333333;font-weight:400">id=</span><span style="color:#3ad900;font-weight:400">&quot;answer&quot;</span><span style="color:#7f0044;font-weight:400">&gt;&lt;/p&gt;</span><br /><span style="color:#7f0044;font-weight:400">&lt;script&gt;</span><br /><span style="color:#ff9d00;font-weight:700">function</span> theAnswer() {<br />    <span style="color:#ff9d00;font-weight:700">var</span> xhr = <span style="color:#ff9d00;font-weight:700">new</span> XMLHttpRequest();<br />    xhr.onreadystatechange = <span style="color:#ff9d00;font-weight:700">function</span>() {<br />        <span style="color:#ff9d00;font-weight:700">if</span> (xhr.readyState == <span style="color:#ff0044;font-weight:400">4</span> &amp;&amp; xhr.status == <span style="color:#ff0044;font-weight:400">200</span>) {<br />            document.getElementById(<span style="color:#3ad900;font-weight:400">&quot;answer&quot;</span>).innerHTML = xhr.responseText;<br />        }<br />    }<br />    &lt;!-- xhr.open() builds the request as a GET, <span style="color:#ff9d00;font-weight:700">with</span> the specified resource and parameters, and sets the request to be asynchronous (<span style="color:#ff0044;font-weight:400">true</span>) --&gt;<br />    xhr.open(<span style="color:#3ad900;font-weight:400">&quot;GET&quot;</span>, <span style="color:#3ad900;font-weight:400">&quot;hhgttg.php?q=multiply6by9&quot;</span>, <span style="color:#ff0044;font-weight:400">true</span>);<br />    &lt;!-- xhr.send() causes the request to be sent, after which the onreadystatechange <span style="color:#ff9d00;font-weight:700">function</span> takes over, waiting <span style="color:#ff9d00;font-weight:700">for</span> a response to come back --&gt;<br />    xhr.send(<span style="color:#3ad900;font-weight:400">&quot;&quot;</span>);<br />}<br /><span style="color:#7f0044;font-weight:400">&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</span></pre></div><br /></div>
</body>
</html>
