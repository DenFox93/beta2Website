<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>openssl</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>openssl</h1><br/>netcat doesn&#39;t support HTTP<strong>S</strong> connections, instead we have to use <strong>openssl</strong><br /><br /><strong>openssl s_client</strong>:  implements a generic SSL/TLS client, to establish a connection to a remote server speaking SSL/TLS we have to give the <strong>-connect</strong> argument followed by<strong> host:port</strong> informations<br />    to use HTTPS protocol instead of the 80 port(HTTP) we need to use 443 port(HTTPS)<br />    <div class="codebox"><pre>openssl s_client -connect host:443</pre></div><br />    <br />    How we will see in e the example below the mean difference between HTTP and HTTPS connections is in the SSL handshake that is only done at the beginning of the connection<br />    <br /><strong><span style="color:#a5452a;">example</span></strong><br /><div class="codebox"><pre>openssl s_client -connect hack.me:443</pre></div><br /><a href=""><img src="images/116-1.png" alt="images/116-1.png" /></a><br /><br />if we want to analyze the handshake and the encrypted communication we can use <strong>-debug</strong> argument:<br /><div class="codebox"><pre>openssl s_client -connect hack.me:443 -debug</pre></div><br /><br />if we want analyze the state of the handshake we can use <strong>-state</strong> argument<br /><div class="codebox"><pre>openssl s_client -connect hack.me:443 -state</pre></div><br /><a href=""><img src="images/116-2.png" alt="images/116-2.png" /></a><br /><br />if we don&#39;t want all the output we can use <strong>-quiet</strong> argument<br /><div class="codebox"><pre>openssl s_client -connect hack.me:443 -quiet</pre></div><br /><br />If we want to send a <strong>GET request</strong>:<br /><div class="codebox"><pre>printf &quot;GET / HTTP/1.1\r\nHost:hack.me\r\n\r\n&quot;  | openssl s_client -connect hack.me:443 -ign_eof</pre></div><br />or <br /><div class="codebox"><pre>echo -e &quot;GET / HTTP/1.1\r\nHost:hack.me\r\n\r\n&quot;  | openssl s_client -connect hack.me:443 -ign_eof</pre></div><br />By default openssl closes the connection when the input file closes, we don&#39;t get time to see the response and instead just see the DONE output from the server, <br /> to get around of this we have many options:<br />   ◇ use the <strong>-ign_eof</strong> option to leave the connection open <br />   ◇ if we only are concerned about the HTTP responses then we can use the <strong>-quiet</strong> option which hides most of output and also sets that<strong> -ign_eof</strong> option for you<br /><br />we can ask t the server an OPTIONS request to know which methods are allowed<br /><div class="codebox"><pre>printf &quot;OPTIONS / HTTP/1.1\r\nHost:hack.me\r\n\r\n&quot;  | openssl s_client -connect hack.me:443 -ign_eof </pre></div><br /><a href=""><img src="images/116-3.png" alt="images/116-3.png" /></a><br /><br /> After the first request we can continue to ask other requests, in that case we will continue to use the same session key<br /> <br /> For request subdomain(en.wikipedia.org) and subfolders(/wiki/Main_Page) we can do like that<br /><div class="codebox"><pre>printf  &quot;GET /wiki/Main_Page HTTP/1.1\r\nHost:en.wikipedia.org\r\n\r\n&quot;  | openssl s_client -connect wikipedia.org:443 -ign_eof</pre></div><br /><br /><br /><br /><br /><br /></div>
</body>
</html>
