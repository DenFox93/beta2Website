<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>JSON</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>JSON</h1><br/><br /><strong><h3>JSON (JavaScript Object Notation)</h3></strong><br /><br /><strong>Parse of Data on the Client</strong> <strong>with JSON</strong><br />Both XML and JSON require some type of parsing on the client side<br />JSON can just be evaluated, <span style="text-decoration:underline;">but this has security issues</span><br />To convert a JSON text into an object, you can use the eval() function. eval() invokes the JavaScript compiler. <br />Since JSON is a proper subset of JavaScript, the compiler will correctly parse the text and produce an object structure. The text must be wrapped in parenthesis to avoid tripping on an ambiguity in JavaScript&#39;s syntax.<br />    <div class="codebox"><pre>var myObject = eval(&#39;(&#39; + myJSONtext + &#39;)&#39;);</pre></div><br />The eval function is very fast. However, it can compile and execute any JavaScript program, so there can be security issues. The use of eval is indicated when the source is trusted and competent.<br /><span style="text-decoration:underline;">To defend against this, a JSON parser should be used</span>. A JSON parser will recognize only JSON text, rejecting all scripts. In browsers that provide native JSON support, JSON parsers are also much faster than eval. <br />Anyway JSON.parse use eval()  inside the code, but the advantage of JSON.parse is that it verifies the argument is correct JSON syntax.<br />    <div class="codebox"><pre>var myObject = JSON.parse(myJSONtext, reviver);</pre></div><br /><br /><strong>Request and Response in JSON format</strong><br />The JavaScript Object Notation is commonly used to hold the data. <br />Both the request and the response get stored in the JSON object, which can be thought of as an array.<br />• request: we can inject any of the typical attacks, such as SQL injection or XSS, and determine how the application reacts to the unexpected items<br />• response: we can examines the object for any extraneous data that is of interest<br /><br />The client-side JavaScript then loads the JSON data into memory typically, with eval() call or a JSON parser<br /><br /><strong>JSON Format</strong><br />The JSON format is basically an array of arrays.<br /><span style="color:#a5452a;">example response:</span><br /><div class="codebox"><pre>{&quot;records&quot;: [<br />    {&quot;id&quot; : &quot;1&quot;, &quot;name&quot; : “Hercules&quot;, “org&quot; : “Earth&quot;},<br />    {&quot;id&quot; : &quot;2&quot;, &quot;name&quot; : “Mustang&quot;, “org&quot; : “Betelgeuse&quot;},<br />    {&quot;id&quot; : &quot;3&quot;, &quot;name&quot; : “Zeus&quot;, “org&quot; : “Betelgeuse&quot;},<br />    {&quot;id&quot; : &quot;4&quot;, &quot;name&quot; : “Eolo&quot;, “org&quot; : “Earth&quot;},<br />    {&quot;id&quot; : “5&quot;, &quot;name&quot; : “Marvin&quot;, “org&quot; : “Sirius&quot;},<br />    {&quot;id&quot; : “6&quot;, &quot;name&quot; : “Apollo&quot;, “org&quot; : “Magrathea&quot;}]}</pre></div><br /><br /><strong><h3>Exploit JSON</h3></strong><br />The Exploit of JSON can lead to:<br />• <strong>Information disclosure</strong><br />   JSON is used to send data but most developers send more data than necessary<br />   ◇ Some applications actually send complete record sets<br />   ◇ Client code parses and displays what&#39;s needed<br />   ◇ SQL error messages are sent to the client in some cases then the Client code parses and displays an application error message instead<br />      ▪  all the informations are available in an interception tool<br />• <strong>Input to test for injection flaws</strong><br />    We need to focus on the requests. We can intercept them and insert attack strings like SQL injection and XSS that are commonly successful against these types of applications.<br />    After it we need to look in the interception proxy for the results because they may not be displayed on the page.</div>
</body>
</html>
