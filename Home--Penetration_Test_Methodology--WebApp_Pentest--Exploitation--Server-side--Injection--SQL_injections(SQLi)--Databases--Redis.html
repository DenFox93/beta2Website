<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Redis</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Redis</h1><br/>Redis like MongoDB is another NoSQL database <br />Redis Server TCP port: 6379<br /><br /><strong>Obtain informations</strong><br />NSE script: <a href="https://nmap.org/nsedoc/scripts/redis-info.html">https://nmap.org/nsedoc/scripts/redis-info.html</a><br />metasploit script: <a href="https://www.rapid7.com/db/modules/auxiliary/scanner/redis/redis_server/">https://www.rapid7.com/db/modules/auxiliary/scanner/redis/redis_server/</a><br /><div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span># nmap --script redis-info -sV -p 6379 &lt;IP&gt;<br />msf&gt; use auxiliary<span style="color:#ff9d00;font-weight:700">/</span>scanner<span style="color:#ff9d00;font-weight:700">/</span>redis<span style="color:#ff9d00;font-weight:700">/</span>redis_server</pre></div><br />    <a href=""><img src="images/1241-1.png" alt="images/1241-1.png" /></a><br /><br /><strong>Connect</strong><br /><div class="codebox"><pre>nc -vn &lt;IP&gt;<br />redis-cli -h &lt;IP&gt;  <span style="color:#0088ff;font-weight:400">#sudo apt-get install redis-tools</span></pre></div><br />    <a href=""><img src="images/1241-2.png" alt="images/1241-2.png" /></a><br />    this means that we need valid credentials to access the Redis instance.<br />    <br /><strong>Bruteforcing</strong><br />Redis databases are particularly <span style="text-decoration:underline;">good targets for brute-force attacks</span> because of their improved high-speed access. Even when password-protected, Redis databases allow for thousands of password attempts per second.  Because of that make sure to <span style="text-decoration:underline;">generate a strong and very long password</span> so that this attack is infeasible.(Source: <a href="https://redis.io/commands/auth#:~:text=Security%20notice">Redis manual</a>)<br />    <div class="codebox"><pre>msf&gt; use auxiliary<span style="color:#ff9d00;font-weight:700">/</span>scanner<span style="color:#ff9d00;font-weight:700">/</span>redis<span style="color:#ff9d00;font-weight:700">/</span>redis_login<br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># nmap --script redis-brute -p 6379 &lt;IP&gt;<br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># hydra â€“P <span style="color:#ff9d00;font-weight:700">/</span>path<span style="color:#ff9d00;font-weight:700">/</span>pass.txt &lt;IP&gt; redis</pre></div><br />        <a href=""><img src="images/1241-3.png" alt="images/1241-3.png" /></a><br /><br />If we have found valid credentials we can connect with the Redis instance with redis-cli and authenticate the session with:<br /><div class="codebox"><pre>IP&gt; AUTH &lt;username&gt; &lt;password&gt;</pre></div><br />    Valid credentials will be responded with: +OK<br /><br />Bibliography:<br /><a href="https://book.hacktricks.xyz/pentesting/6379-pentesting-redis">https://book.hacktricks.xyz/pentesting/6379-pentesting-redis</a><br /><a href="https://book.hacktricks.xyz/brute-force#redis">https://book.hacktricks.xyz/brute-force#redis</a><br /></div>
</body>
</html>
