<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>3. Users</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>3. Users</h1><br/><br /><strong>User and Service Accounts</strong><br />information such as the user ID, group ID, home directory and the path to the command shell. <br />An ‘x’ character means that the encrypted password is stored inthe /etc/shadow file<br /><div class="codebox"><pre>daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/passwd</span>               <span style="color:#0088ff;font-weight:400">#essential user account information</span></pre></div><br />    <a href=""><img src="images/913-1.png" alt="images/913-1.png" /></a><br /><br /><strong>All Users (UID and GID information)</strong><br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">for</span> <span style="color:#7f0044;font-weight:400">user</span> <span style="color:#ff9d00;font-weight:700">in</span> $<span style="color:#ff9d00;font-weight:700">(cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/passwd</span> <span style="color:#ff9d00;font-weight:700">|cut</span> -f1 -d<span style="color:#3ad900;font-weight:400">&quot;:&quot;</span><span style="color:#ff9d00;font-weight:700">);</span> <span style="color:#ff9d00;font-weight:700">do</span> <span style="color:#ff9d00;font-weight:700">id</span> <span style="color:#7f0044;font-weight:400">$user</span><span style="color:#ff9d00;font-weight:700">;</span> <span style="color:#ff9d00;font-weight:700">done</span></pre></div><br />    <a href=""><img src="images/913-2.png" alt="images/913-2.png" /></a><br /><br /><strong>All UID 0 Accounts (root)</strong><br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/passwd</span> <span style="color:#ff9d00;font-weight:700">|cut</span> -f1,3,4 -d<span style="color:#3ad900;font-weight:400">&quot;:&quot;</span> <span style="color:#ff9d00;font-weight:700">|grep</span> <span style="color:#3ad900;font-weight:400">&quot;0:0&quot;</span> <span style="color:#ff9d00;font-weight:700">|cut</span> -f1 -d<span style="color:#3ad900;font-weight:400">&quot;:&quot;</span> <span style="color:#ff9d00;font-weight:700">|awk</span> <span style="color:#3ad900;font-weight:400">&#39;{print $1}&#39;</span></pre></div><br />    <a href=""><img src="images/913-3.png" alt="images/913-3.png" /></a><br /><br /><strong>Last logged on Users</strong><br /><div class="codebox"><pre>daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">last</span> -a</pre></div><br />    <a href=""><img src="images/913-4.png" alt="images/913-4.png" /></a><br /><br /><strong>Groups</strong><br /><div class="codebox"><pre>daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>group</pre></div><br /><br /><strong>Currently Logged on Users   </strong><br /><div class="codebox"><pre>daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">id</span>                            <span style="color:#0088ff;font-weight:400">#current user</span><br />daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">whoami</span>                        <span style="color:#0088ff;font-weight:400">#current user</span><br />daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">grep</span> <span style="color:#7f0044;font-weight:400">$USER</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/passwd</span>        <span style="color:#0088ff;font-weight:400">#current user</span><br />    <br />daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">who</span>                           <span style="color:#0088ff;font-weight:400">#active session</span><br />daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">w</span>                             <span style="color:#0088ff;font-weight:400">#active session(more informations)</span><br /></pre></div><br />    <a href=""><img src="images/913-5.png" alt="images/913-5.png" /></a><br />    attention to the <span style="color:#00ff00;">groups</span> to which the privileged user belongs. One especially important group is the <span style="color:#a020f0;">sudo</span> (‘Super User Do’) group. <br />    A user that is a member of the <span style="color:#a020f0;">sudo group</span> is able to execute commands in the context of the root user without providing the root password.<br />    When the user is part of the <span style="color:#a020f0;">sudo group</span> you can display a list of commands that can be executed as superuser by typing:<br />    <div class="codebox"><pre>daniele@daniele-vm<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">sudo</span> -l                     <span style="color:#0088ff;font-weight:400">#list of commands as superuser</span></pre></div><br />        <a href=""><img src="images/913-6.png" alt="images/913-6.png" /></a><br />        As expected we can run <span style="color:#a020f0;">ALL commands as root</span> because we are in the sudo group<br />        It is possible to limit a user’s sudo privileges to certain commands by whitelisting them in the file: /etc/sudoers<br />        <div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">cat</span> <span style="color:#ff9d00;font-weight:700">/</span>etc<span style="color:#ff9d00;font-weight:700">/</span>sudoers -n</pre></div><br />            <a href=""><img src="images/913-7.png" alt="images/913-7.png" /></a><br /><br /><br />    </div>
</body>
</html>
