<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>SQL queries inside a Web Applications</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>SQL queries inside a Web Applications</h1><br/>The <a href="--Penetration_Test_Methodology--WebApp_Pentest--Exploitation--Server-side--Injection--SQL_injections(SQLi)--Databases--MySQL--Basic_Usage.html">SQL statements viewed before</a> are used when querying a database directly from its console.<br /><strong>When we are inside a Web Application we have to do these steps</strong>(example of a connection using PHP to a MySQL database):<br />• <strong>connect</strong> to the database<br />    <div class="codebox"><pre>$databaseHostname=&#39;192.101.23.4&#39;;<br />$databaseUser=&#39;username&#39;;<br />$databasePassword=&#39;password&#39;;<br />$databaseName=&#39;database&#39;;<br /><br />$connection = mysqli_connect($databaseHostname, $databaseUser, $databasePassword, $databaseName);</pre></div><br />• <strong>submit</strong> a query( with the SQL statement) to the database<br />    <div class="codebox"><pre>$query=&quot;SELECT <span style="color:#7f0044;font-weight:400">&lt;column1</span>, <span style="color:#333333;font-weight:400">column2</span>,...<span style="color:#7f0044;font-weight:400">&gt;</span> FROM <span style="color:#7f0044;font-weight:400">&lt;table_name&gt;</span> WHERE <span style="color:#7f0044;font-weight:400">&lt;condition&gt;</span>;&quot;;<br />$results = mysqli_query($connection, $query);</pre></div><br />• <strong>retrieve</strong> the results<br />    <div class="codebox"><pre>display_results($results);</pre></div><br /><br /><strong><h2>Dynamic queries</h2></strong><br />The queries most of the the time are not static bu are <strong>dynamically built</strong> by using the <span style="text-decoration:underline;">parameters coming from the client side</span>(user input). <br /><strong>example:</strong><br />In a php code we can find<br /><div class="codebox"><pre>$id = $_GET[&#39;id&#39;];</pre></div><br />This code assign to $id the &quot;id&quot; parameter of the GET request that we have sent to a site <br />this $_GET[&#39;id&#39;] method return 56 if the source url is<br /><div class="codebox"><pre>http://www.example.com/get.php?id=56</pre></div><br />Then we can ask to the SQL database if has this id in one of its tables</div>
</body>
</html>
