<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Map Internal Network</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Map Internal Network</h1><br/><strong><h3>Map the network</h3></strong><br />First we run ifconfig/ipconfig to know which is the the netmask of the network<br /><div class="codebox"><pre><span style="color:#ff9d00;font-weight:700">ifconfig</span></pre></div><br />    <a href=""><img src="images/2093-1.png" alt="images/2093-1.png" /></a><br />• <strong>meterpreter Arp scan</strong><br />    <br />Then we can run the ARP scan on the network<br />    <div class="codebox"><pre>meterpretr&gt; run arp_scanner <span style="color:#ff9d00;font-weight:700">-r</span> <span style="color:#333333;font-weight:400">10.32</span>.<span style="color:#333333;font-weight:400">120.0</span><span style="color:#ff9d00;font-weight:700">/</span><span style="color:#333333;font-weight:400">24</span></pre></div><br />    <a href=""><img src="images/2093-2.png" alt="images/2093-2.png" /></a><br />   ◇ With netdiscover(linux):<br />       <div class="codebox"><pre>netdiscover -i tap0 -r 172.16.5.0.<span style="color:#ff9d00;font-weight:700">/</span>24</pre></div><br />   <span style="text-decoration:underline;">NOTE:</span><br />       With ARP protocol host discovery cannot be performed on a different networks. <br />       Host discovery with ARP just works when all hosts are on the same broadcast domain.<br />       This because the ARP Scan works by sending ARP requests to the broadcast address ff:ff:ff:ff:ff:ff asking for specific IP address range (if specified).<br />       ARP is a protocol used for resolution of network layer addresses (IP address) into link layer addresses (MAC address). It works on the layer 2 of the OSI <br /><br />• <strong>Metasploit Port scan</strong><br />    <a href=""><img src="images/2093-3.png" alt="images/2093-3.png" /></a><br />    <div class="codebox"><pre>meterpreter&gt; background<br />msf&gt; use auxiliary<span style="color:#ff9d00;font-weight:700">/</span>scanner<span style="color:#ff9d00;font-weight:700">/</span>portscan<span style="color:#ff9d00;font-weight:700">/</span>tcp<br />msf&gt; <span style="color:#ff9d00;font-weight:700">set</span> rhosts <span style="color:#333333;font-weight:400">10.32</span>.<span style="color:#333333;font-weight:400">120.17</span><br />msf&gt; run<br />msf&gt;</pre></div><br />   <a href=""><img src="images/2093-4.png" alt="images/2093-4.png" /></a><br />   ◇ Scan entire network<br />    <div class="codebox"><pre>msf&gt; use auxiliary<span style="color:#ff9d00;font-weight:700">/</span>scanner<span style="color:#ff9d00;font-weight:700">/</span>portscan<span style="color:#ff9d00;font-weight:700">/</span>tcp<br />msf&gt; <span style="color:#ff9d00;font-weight:700">set</span> rhosts 10.32.120.0<span style="color:#ff9d00;font-weight:700">/</span>24<br />msf&gt; <span style="color:#ff9d00;font-weight:700">set</span> THREADS 10<br />msf&gt; <span style="color:#ff9d00;font-weight:700">set</span> PORTS 139,445<br />msf&gt; run<br />msf&gt;</pre></div><br />       <br /></div>
</body>
</html>
